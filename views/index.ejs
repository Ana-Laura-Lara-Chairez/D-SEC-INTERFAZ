<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D-SEC</title>
    <!-- Favicon -->
    <link rel="icon" href="/assets/favicon.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Enlace al archivo CSS de Bootstrap desde un CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-image: url(''); /* Cambia 'ruta_de_la_imagen.jpg' por la ruta de tu imagen */
            background-size: cover; /* Para asegurar que la imagen se ajuste correctamente al fondo */
            background-position: center; /* Para centrar la imagen */
        }
        table {
            border-collapse: collapse;
            width: 50%;
            margin: auto; /* Centrar la tabla */
            margin-bottom: 40px; /* Separación entre la tabla y la gráfica */
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        canvas {
            display: block;
            margin: auto; /* Centrar la gráfica */
            max-width: 600px; /* Ancho máximo de la gráfica */
            width: 90%; /* Ajustar el tamaño de la gráfica */
        }
        .card {
            transition: transform 0.3s;
        }
        .card:hover {
            transform: scale(1.05);
        }
        /* Botón de ir arriba */
        #btnGoToTop {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
            display: none;
        }
    </style>
</head>


<body>
    <!-- Barra de navegación -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="#"><img src="/assets/logo.png" alt="Logoo" width="100" height="50"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0"> <!-- Agrega la clase 'me-auto' para alinear a la izquierda y 'mb-lg-0' para espaciado en dispositivos grandes -->
                    <li class="nav-item">
                        <a class="nav-link" href="#inicio">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#trafico">Tráfico</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="#usuarios">Usuarios</a>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link" href="#anomalia">Anomalía</a>
                    </li>
                </ul>
                <form class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Buscar" aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Buscar</button>
                </form>
            </div>
        </div>
    </nav>

    <section id="inicio">
        <!-- Carrusel animado -->
        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="/assets/banner.png" class="d-block w-100" alt="...">
                </div>
            </div>
        </div>

        <!-- Cards con imágenes animadas -->
        <div class="container mt-5">
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <img src="/assets/uno.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Protección de datos</h5>
                            <p class="card-text">Protege la información al evitar el malware.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <img src="/assets/dos.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Uso de AI</h5>
                            <p class="card-text">AI para detectar de código maligno.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <img src="/assets/tres.png" class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Tecnologías actuales</h5>
                            <p class="card-text">Uso de tecnologías actuales y escalables.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <br><br>

        <!-- Banner de imagen -->
        <div class="container-fluid px-0">
            <img src="/assets/banner2.png" class="img-fluid" alt="Banner">
        </div>
    </section>


    <br><br>

    <section id="trafico">
        <!-- Tu tabla y gráfico existentes -->
        <h2 style="text-align: center; margin-bottom: 50px;">Tráfico de Datos Registrado</h2>
        <table>
            <thead>
                <tr>
                    <th>src_port</th>
                    <th>dest_port</th>
                    <th>direction_backward</th>
                    <th>direction_farward</th>
                </tr>
            </thead>
            <tbody>
                <% datos.forEach(function(item) { %>
                    <tr>
                        <td><%= item.ejemplo %></td>
                        <td><%= item.ejemplo2 %></td>
                        <td><%= item.ejemplo3 %></td>
                        <td><%= item.ejemplo4 %></td>
                    </tr>
                <% }); %>
            </tbody>
        </table>



        <canvas id="myChart"></canvas>

        <!-- Botón de ir arriba -->
        <button id="btnGoToTop" onclick="goToTop()" class="btn btn-primary"><i class="bi bi-arrow-up-circle"></i></button>

        <!-- Enlace al archivo JavaScript de Bootstrap desde un CDN -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>

        <!-- Agregar Chart.js desde un CDN -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <script>
            // Obtener datos de la tabla
            const nombres = [];
            const edades = [];
            document.querySelectorAll('tbody tr').forEach(row => {
                nombres.push(row.cells[0].innerText);
                edades.push(parseInt(row.cells[1].innerText));
            });

            // Crear el gráfico
            var ctx = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: nombres,
                    datasets: [{
                        label: 'Datos registrados',
                        data: edades,
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Función para ir arriba
            function goToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }

            // Mostrar u ocultar botón de ir arriba
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById("btnGoToTop").style.display = "block";
                } else {
                    document.getElementById("btnGoToTop").style.display = "none";
                }
            }
        </script>
    </section>
    <br><br>
    <center><a href="/generar-informe-pdf" class="btn btn-primary">Generar y descargar informe PDF</a>

    <section id="anomalia" style="margin-top: 180px;">
        <!-- Tu tabla y gráfico existentes -->
        <h2 style="text-align: center; margin-bottom: 50px;">Anomalías Registradas</h2>
        <table>
            <thead>
                <tr>
                    <th>src_port</th>
                    <th>dest_port</th>
                    <th>direction_backward</th>
                    <th>direction_farward</th>
                </tr>
            </thead>
            <tbody>
                <% datos.forEach(function(item) { %>
                    <tr>
                        <td><%= item.ejemplo %></td>
                        <td><%= item.ejemplo2 %></td>
                        <td><%= item.ejemplo3 %></td>
                        <td><%= item.ejemplo4 %></td>
                    </tr>
                <% }); %>
            </tbody>
        </table>

        <canvas id="myChart"></canvas>

        <!-- Botón de ir arriba -->
        <button id="btnGoToTop" onclick="goToTop()" class="btn btn-primary"><i class="bi bi-arrow-up-circle"></i></button>

        <!-- Enlace al archivo JavaScript de Bootstrap desde un CDN -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"></script>

        <!-- Agregar Chart.js desde un CDN -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <script>
            // Obtener datos de la tabla
            const ejemplo = [];
            const ejemplo2 = [];
            const ejemplo3 = [];
            const ejemplo4 = [];
            document.querySelectorAll('tbody tr').forEach(row => {
                ejemplo.push(row.cells[0].innerText);
                ejemplo2.push(parseInt(row.cells[1].innerText));
                ejemplo3.push(parseInt(row.cells[2].innerText));
                ejemplo4.push(parseInt(row.cells[3].innerText));
            });

            // Función para ir arriba
            function goToTop() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }

            // Mostrar u ocultar botón de ir arriba
            window.onscroll = function() {scrollFunction()};

            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById("btnGoToTop").style.display = "block";
                } else {
                    document.getElementById("btnGoToTop").style.display = "none";
                }
            }
        </script>
    </section>
</body>
</html>
